<!doctype html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="img/App.ico" type="image/x-icon">
    <title>Angpao Lotto VIP. | ตั้งค่าระหัสผ่าน</title>

    <!----========Custom CSS ======== -->
    <link rel="stylesheet" href="custom/css/styleLogin.css">
</head>

<body class="scroll-custom-body">
    <!-- ========================== navigation top title menu ========================== -->
    <header>
        <nav class="navigation-top newtab" style="left: 0px;">
            <div class="sidebar-button">
                <div class="toggle-switch">
                    <i class='bx bx-moon icon moon'></i>
                    <i class='bx bx-sun icon sun'></i>
                </div>
                <span>
                    <p class="login-title">Angpao Lotto VIP.</p>
                </span>
            </div>

        </nav>
    </header>

    <div class="container">
        <div class="cover">
            <div class="img">
                <img src="./img/Lotto-Brue.svg" alt=""
                    style="border-top-right-radius: 25px; border-bottom-right-radius: 25px;">
            </div>
            <div class="img-Dark">
                <img src="./img/Lotto-Dark.svg" alt=""
                    style="border-top-right-radius: 25px; border-bottom-right-radius: 25px;">
            </div>
        </div>
        <div class="forms">
            <div class="form-content">
                <div class="login-form">
                    <div class="title">ตั้งค่าระหัสผ่าน.</div>
                    <form action="index.html">
                        <div class="input-boxes">
                            <div class="input-box">
                                <i class='bx bxs-user'></i>
                                <input id="userName" type="text" placeholder="ชื่อผู้ใช้" required>
                            </div>
                            <div class="input-box">
                                <i class='bx bxs-key'></i>
                                <input id="Password" type="password" placeholder="ระหัสผ่าน" maxlength="15">
                                <span><i id="eyeP" onclick="passToggle('Password','eyeP')"
                                        class='bx bx-show-alt'></i></span>
                            </div>
                            <div class="input-box">
                                <i class='bx bxs-key'></i>
                                <input id="PasswordConfirm" type="password" placeholder="ยืนยันระหัสผ่าน" maxlength="15">
                                <span><i id="eyeP2" onclick="passToggle('PasswordConfirm','eyeP2')"
                                        class='bx bx-show-alt'></i></span>
                            </div>
                            <div id="message" class="text sign-up-text" style="color: red;">
                            </div>

                            <div class="button input-box">
                                <input onclick="CheckPassword()" type="button" value="บันทึก">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <script src="dist/js/bootstrap.bundle.min.js"></script>
    <script src="custom/js/Login-CustomerDetail.js"></script>
    <script src="dist/sweetalert2/sweetalert2.all.min.js"></script>
    <script>
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        });        
    </script>

    <!-- ตรวจสอบตัวหนังสือ -->
    <script>
        function CheckPassword() {
            var pass = document.getElementById('Password').value;
            var confirm_pass = document.getElementById('PasswordConfirm').value;

            var passw = /^[A-Za-z0-9_.]+$/;
            if (pass.match(passw)) {
                if (pass.length < 6) {
                    document.getElementById("message").innerHTML = "ระหัสผ่านต้องมี 6-15 ตัวอักษร";
                    return false;
                }
                if (pass.length > 15) {
                    document.getElementById("message").innerHTML = "ระหัสผ่านต้องมี 6-15 ตัวอักษร";
                    return false;
                }
                if (pass != confirm_pass) {
                    document.getElementById("message").innerHTML = "ระหัสผ่านไม่ตรงกัน"
                } else {
                    // ทำต่อตรงนี้
                    document.getElementById("message").innerHTML = ""
                    Swal.fire({
                        icon: 'success',
                        title: 'ตั้งค่าเสร็จสิ้น.',
                        showConfirmButton: false,
                        timer: 1500
                    })

                }

                return true;
            }
            else {
                document.getElementById("message").innerHTML = "ระหัสผ่านใช้ได้เฉพาะ A-Z a-z 0-9 . _ เท่านั้น"
                return false;
            }
        }

        // function CheckPassword() {
        //     var pw = document.getElementById("Password").value;

        //     if (pw == "") {
        //         document.getElementById("message").innerHTML = "**Fill the password!";
        //         return false;
        //     }
        //     if (pw.length < 6) {
        //         document.getElementById("message").innerHTML = "** length must be atleast 8 characters";
        //         return false;
        //     }
        //     if (pw.length > 15) {
        //         document.getElementById("message").innerHTML = "** length must not exceed 15 characters";
        //         return false;
        //     } else {
        //         alert("Password is correct");
        //     }
        // }

    </script>
</body>

</html>